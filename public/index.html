<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi MP3 Player Test</title>
<style>
body { background:#000; color:#fff; font-family:sans-serif; text-align:center; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; margin:0; }
button { padding:15px 30px; font-size:18px; margin:5px; }
#status { margin-top:20px; font-size:16px; color:yellow; width:90%; }
</style>
</head>
<body>

<h1>ğŸµ Multi MP3 Player</h1>
<div id="status">Î‘Î½Î±Î¼Î¿Î½Î®...</div>

<!-- ÎšÎ¿Ï…Î¼Ï€Î¹Î¬ -->
<button id="playBtn">PLAY</button>
<button id="stopBtn">STOP</button>
<button id="nextBtn">NEXT</button>

<!-- Audio element -->
<audio id="audio" preload="auto"></audio>

<script>
const audio = document.getElementById('audio');
const status = document.getElementById('status');
const log = msg => status.innerHTML = msg + "<br>" + status.innerHTML;

// Î›Î¯ÏƒÏ„Î± mp3 Î±Ï€ÏŒ public
const tracks = [
    {src:'alert.mp3', title:'Alert Sound', artist:'System'},
    {src:'silence.mp3', title:'Silent/Bip', artist:'System'},
    {src:'test.mp3', title:'Test Song', artist:'System'}
];
let current = 0;

// Update MediaSession Î³Î¹Î± media bar
function updateMediaSession(track){
    if('mediaSession' in navigator){
        navigator.mediaSession.metadata = new MediaMetadata({
            title: track.title,
            artist: track.artist,
            artwork:[{src:'https://cdn-icons-png.flaticon.com/512/565/565547.png', sizes:'512x512', type:'image/png'}]
        });
        try {
            navigator.mediaSession.setPositionState({
                duration: 600, position:0, playbackRate:1.0
            });
        } catch(e){}
        navigator.mediaSession.playbackState = 'playing';
    }
}

// Play Ï„ÏÎ­Ï‡Î¿Î½ track
function playTrack(){
    audio.src = tracks[current].src;
    audio.loop = true;
    audio.volume = 0.5;
    audio.play().then(()=>{
        log(`â–¶ Î Î±Î¯Î¶ÎµÎ¹: ${tracks[current].title}`);
        updateMediaSession(tracks[current]);
    }).catch(e=>{
        log(`âŒ Play failed: ${e.message}`);
    });
}

// Stop
function stopTrack(){
    audio.pause();
    audio.currentTime = 0;
    log("â¹ Î£Ï„Î±Î¼Î¬Ï„Î·ÏƒÎµ");
    if('mediaSession' in navigator) navigator.mediaSession.playbackState = 'paused';
}

// Next track
function nextTrack(){
    current = (current + 1) % tracks.length;
    playTrack();
}

// ÎšÎ¿Ï…Î¼Ï€Î¹Î¬
document.getElementById('playBtn').addEventListener('click', playTrack);
document.getElementById('stopBtn').addEventListener('click', stopTrack);
document.getElementById('nextBtn').addEventListener('click', nextTrack);
</script>

</body>
</html>
