<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIDEO TRICK MODE</title>
    <style>
        body { background-color: #000; color: #fff; text-align: center; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        button { padding: 30px 40px; font-size: 22px; font-weight: bold; background: #D50000; color: white; border: none; border-radius: 10px; cursor: pointer; margin-top: 20px; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); }
        #status { margin-top: 20px; font-size: 16px; color: yellow; border: 1px solid #333; padding: 10px; width: 90%; }
        /* ÎšÎ¬Î½Î¿Ï…Î¼Îµ Ï„Î¿ Î²Î¯Î½Ï„ÎµÎ¿ Î±ÏŒÏÎ±Ï„Î¿ Î±Î»Î»Î¬ Î¥Î Î‘Î¡ÎšÎ¤ÎŸ Î³Î¹Î± Ï„Î¿ Android */
        #fakeVideo { width: 1px; height: 1px; opacity: 0.01; position: absolute; top: 0; left: 0; pointer-events: none; }
    </style>
</head>
<body>

    <h1>VIDEO TRICK ğŸ¬</h1>
    <p>Î›Î­Î¼Îµ ÏƒÏ„Î¿ Android ÏŒÏ„Î¹ Î²Î»Î­Ï€ÎµÎ¹Ï‚ Î¤Î‘Î™ÎÎ™Î‘.</p>

    <video id="fakeVideo" src="alert.mp3" loop playsinline></video>

    <button onclick="startVideoTrick()">START MOVIE MODE ğŸ¥</button>

    <div id="status">Î‘Î½Î±Î¼Î¿Î½Î®...</div>

    <script>
        function log(text) {
            const el = document.getElementById('status');
            el.innerHTML = text + "<br>" + el.innerHTML;
        }

        function startVideoTrick() {
            const video = document.getElementById('fakeVideo');
            log("â³ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î ÏÏ‰Ï„Î¿ÎºÏŒÎ»Î»Î¿Ï…...");

            // Î•Î›Î•Î“Î§ÎŸÎ£ HTTPS (ÎšÎ¡Î™Î£Î™ÎœÎŸ)
            if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
                log("âš ï¸ Î Î¡ÎŸÎ£ÎŸÎ§Î—: Î•Î¯ÏƒÎ±Î¹ ÏƒÎµ HTTP!");
                log("Î— Î¼Ï€Î¬ÏÎ± Î”Î•Î Î´Î¿Ï…Î»ÎµÏÎµÎ¹ ÏƒÎµ HTTP.");
                log("Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¼Ï€ÎµÎ¹Ï‚ Î¼Îµ HTTPS.");
            }

            log("â³ ÎÎµÎºÎ¹Î½Î¬Ï‰ Ï„Î¿ Î’Î¯Î½Ï„ÎµÎ¿...");
            video.volume = 1.0;

            video.play().then(() => {
                log("ğŸ¬ Î¤Î¿ 'Î’Î¯Î½Ï„ÎµÎ¿' Ï€Î±Î¯Î¶ÎµÎ¹!");

                if ('mediaSession' in navigator) {
                    
                    // 1. Î¡Î¥Î˜ÎœÎ™Î£Î— METADATA
                    navigator.mediaSession.metadata = new MediaMetadata({
                        title: "ğŸš¨ ÎšÎ›Î—Î£Î— ÎšÎŸÎ¥Î–Î™ÎÎ‘Î£",
                        artist: "Î£ÏÏÎµ Î³Î¹Î± Stop",
                        album: "Video Alert Mode",
                        artwork: [
                            { src: 'https://cdn-icons-png.flaticon.com/512/10337/10337229.png', sizes: '512x512', type: 'image/png' }
                        ]
                    });

                    // 2. Î•ÎÎ•Î¡Î“ÎŸÎ ÎŸÎ™Î—Î£Î— ÎšÎŸÎ¥ÎœÎ Î™Î©Î
                    const dummy = () => log("ğŸ”˜ ÎšÎ¿Ï…Î¼Ï€Î¯!");
                    navigator.mediaSession.setActionHandler('play', () => video.play());
                    navigator.mediaSession.setActionHandler('pause', () => video.pause());
                    navigator.mediaSession.setActionHandler('stop', () => video.pause());
                    navigator.mediaSession.setActionHandler('nexttrack', dummy);
                    navigator.mediaSession.setActionHandler('previoustrack', dummy);

                    // 3. PLAYBACK STATE (Î¤Î¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î³Î¹Î± Ï„Î¿ Î²Î¯Î½Ï„ÎµÎ¿)
                    navigator.mediaSession.playbackState = "playing";

                    log("ğŸ‘‰ Î£Î¥Î¡Î• Î¤Î—Î ÎŸÎ˜ÎŸÎÎ— Î‘Î ÎŸ Î Î‘ÎÎ©!");
                    log("Î‘Î½ Î´ÎµÎ½ Ï„Î· Î´ÎµÎ¹Ï‚ Ï„ÏÏÎ±, Ï†Ï„Î±Î¯ÎµÎ¹ Ï„Î¿ HTTP.");

                } else {
                    log("âŒ MediaSession Not Supported");
                }
            })
            .catch(e => {
                log("âŒ Video Error: " + e.message);
            });
        }
    </script>
</body>
</html>
