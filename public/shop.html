<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Bellgo Admin</title>
    <style>
        /* --- DARK THEME ADMIN STYLE --- */
        body { background: #1a1a1a; color: white; font-family: sans-serif; text-align: center; padding: 20px; }
        
        .container { max-width: 600px; margin: 0 auto; background: #222; padding: 20px; border-radius: 15px; border: 1px solid #444; }
        
        /* Î¤ÎŸ ÎœÎ•Î“Î‘Î›ÎŸ ÎšÎŸÎ¥ÎœÎ Î™ ÎšÎ›Î—Î£Î—Î£ */
        .btn-bell { 
            background: #ffc107; 
            color: black; 
            width: 100%; 
            padding: 40px; 
            font-size: 30px; 
            font-weight: bold; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            transition: transform 0.1s;
        }
        .btn-bell:active { transform: scale(0.98); background: #e0a800; }

        /* LOG / CHAT AREA */
        h3 { text-align: left; color: #888; margin-bottom: 5px; }
        #log-box { 
            height: 400px; 
            overflow-y: auto; 
            background: #000; 
            border: 1px solid #333; 
            padding: 15px; 
            text-align: left; 
            font-family: monospace; 
            font-size: 14px;
        }
        .entry { border-bottom: 1px solid #222; padding: 5px 0; }
        
        /* COLORS FOR LOGS */
        .sys { color: #0f0; } /* Î ÏÎ¬ÏƒÎ¹Î½Î¿ Î³Î¹Î± ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î±/Î±Ï€Î¿Î´Î¿Ï‡Î® */
        .drv { color: #00ccff; } /* ÎœÏ€Î»Îµ Î³Î¹Î± Î¿Î´Î·Î³Î¿ÏÏ‚ */
        .me { color: #ffc107; } /* ÎšÎ¯Ï„ÏÎ¹Î½Î¿ Î³Î¹Î± ÎµÎ¼Î¬Ï‚ */
    </style>
</head>
<body>

    <div class="container">
        <h1 style="color:#ffc107; letter-spacing: 2px;">BELLGO ADMIN</h1>
        
        <button class="btn-bell" onclick="sendCall()">ğŸ”” ÎšÎ›Î—Î£Î— Î”Î™Î‘ÎÎŸÎœÎ•Î‘</button>

        <h3>Live Activity:</h3>
        <div id="log-box"></div>
        
        <div style="display:flex; margin-top:10px;">
            <input type="text" id="admin-msg" placeholder="Î“ÏÎ¬ÏˆÎµ Î¼Î®Î½Ï…Î¼Î±..." style="flex:1; padding:10px; border:none;">
            <button onclick="sendMsg()" style="padding:10px 20px; background:#444; color:white; border:none; cursor:pointer;">Send</button>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        // Î£Î¹Î³Î¿Ï…ÏÎ­ÏˆÎ¿Ï… ÏŒÏ„Î¹ Ï„Î¿ URL ÎµÎ¯Î½Î±Î¹ ÏƒÏ‰ÏƒÏ„ÏŒ
        const SERVER_URL = 'https://bellgo-final.onrender.com';
        const socket = io(SERVER_URL);
        const box = document.getElementById('log-box');

        // 1. Î£Î¥ÎÎ”Î•Î£Î—
        socket.on('connect', () => {
            log('Î£ÏÏƒÏ„Î·Î¼Î±', 'Î£Ï…Î½Î´Î­Î¸Î·ÎºÎµ ÏƒÏ„Î¿Î½ Server ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚', 'sys');
            socket.emit('login', { name: 'SHOP', role: 'admin' });
        });

        // 2. Î‘Î ÎŸÎ£Î¤ÎŸÎ›Î— ÎšÎ›Î—Î£Î—Î£
        function sendCall() {
            // Î£Ï„Î­Î»Î½ÎµÎ¹ Ï„Î·Î½ ÎµÎ½Ï„Î¿Î»Î® Ï€Î¿Ï… Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÎ¹ Ï„Î¿ server.js ÎºÎ±Î¹ Ï„Î¿ android
            socket.emit('new-order', { shop: 'Roasters' });
            log('Me', 'ğŸ”” Î— ÎšÎ›Î—Î£Î— Î•Î£Î¤Î‘Î›Î—!', 'me');
        }

        // 3. Î›Î—Î¨Î— CHAT & Î•Î Î™Î’Î•Î’Î‘Î™Î©Î£Î•Î©Î
        socket.on('chat-message', (data) => {
            let type = 'drv';
            if(data.user === 'SYSTEM') type = 'sys'; // ÎœÎ·Î½ÏÎ¼Î±Ï„Î± ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ (Ï€.Ï‡. Î‘Ï€Î¿Î´Î¿Ï‡Î®)
            if(data.user === 'SHOP') type = 'me';
            
            log(data.user, data.text, type);
        });

        // 4. Î‘Î ÎŸÎ£Î¤ÎŸÎ›Î— ÎœÎ—ÎÎ¥ÎœÎ‘Î¤ÎŸÎ£ Î‘Î ÎŸ ADMIN
        function sendMsg() {
            const inp = document.getElementById('admin-msg');
            if(inp.value) {
                socket.emit('chat-message', { user: 'SHOP', text: inp.value });
                inp.value = '';
            }
        }

        // Î’ÎŸÎ—Î˜Î—Î¤Î™ÎšÎ— Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î— LOG
        function log(user, text, type) {
            const time = new Date().toLocaleTimeString();
            box.innerHTML += `<div class="entry"><span style="color:#666">[${time}]</span> <b class="${type}">${user}:</b> ${text}</div>`;
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
